{% extends "base.html" %}

{% block title %}Lab Terminal - Labtainer{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css" />
{% endblock %}

{% block content %}
<div class="terminal-container">
    <div class="terminal-header">
        <div class="terminal-info">
            <h3 id="lab-title">Lab Terminal</h3>
            <span class="lab-status" id="lab-status">Disconnected</span>
        </div>
        <div class="terminal-controls">
            <button id="start-lab-btn" class="btn btn-success" disabled>
                ▶️ Start Lab
            </button>
            <button id="stop-lab-btn" class="btn btn-danger" disabled>
                ⏹️ Stop Lab
            </button>
            <button id="rebuild-btn" class="btn btn-warning" disabled>
                🔄 Rebuild
            </button>
            <button id="clear-btn" class="btn btn-secondary">
                🗑️ Clear
            </button>
        </div>
    </div>

    <div id="terminal" class="terminal-window"></div>

    <div class="terminal-footer">
        <div class="command-help">
            <strong>Available Commands:</strong>
            <code>labtainer start</code>,
            <code>labtainer stop</code>,
            <code>rebuild</code>
        </div>
        <div class="connection-status">
            <span id="connection-indicator" class="indicator disconnected"></span>
            <span id="connection-text">Disconnected</span>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.js"></script>
<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<script src="{{ url_for('static', filename='js/terminal.js') }}"></script>
{% endblock %}
